KISSY.add("ext-align",function(b){function f(){b.log("align init");this.on("bindUI",this._bindUIAlign,this);this.on("renderUI",this._renderUIAlign,this);this.on("syncUI",this._syncUIAlign,this)}function l(a,c){var e=c.charAt(0),g=c.charAt(1),d,i,j,k;if(a){a=b.one(a);d=a.offset();i=a[0].offsetWidth;j=a[0].offsetHeight}else{d={left:h.scrollLeft(),top:h.scrollTop()};i=h.viewportWidth();j=h.viewportHeight()}k=d.left;d=d.top;if(e==="c")d+=j/2;else if(e==="b")d+=j;if(g==="c")k+=i/2;else if(g==="r")k+=i;
return{left:k,top:d}}b.namespace("Ext");var h=b.DOM;b.mix(f,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});f.ATTRS={align:{}};f.prototype={_bindUIAlign:function(){b.log("_bindUIAlign")},_renderUIAlign:function(){b.log("_renderUIAlign")},_syncUIAlign:function(){b.log("_syncUIAlign")},_uiSetAlign:function(a){b.log("_uiSetAlign");b.isPlainObject(a)&&this.align(a.node,a.points,a.offset)},align:function(a,c,e){var g,d=this.get("el");e=e||[0,0];g=h.offset(d);a=l(a,c[0]);c=l(d,
c[1]);c=[c.left-a.left,c.top-a.top];this.set("xy",[g.left-c[0]+ +e[0],g.top-c[1]+ +e[1]])},center:function(a){this.set("align",{node:a,points:[f.CC,f.CC],offset:[0,0]})},__destructor:function(){b.log("align __destructor")}};b.Ext.Align=f});
