KISSY.add("ext-mask",function(a){function d(){a.log("mask init");this.on("bindUI",this._bindUIMask,this);this.on("renderUI",this._renderUIMask,this);this.on("syncUI",this._syncUIMask,this)}a.namespace("Ext");var b,e=a.UA,c=0;d.ATTRS={mask:{value:false}};d.prototype={_bindUIMask:function(){a.log("_bindUIMask")},_renderUIMask:function(){a.log("_renderUIMask")},_syncUIMask:function(){a.log("_syncUIMask")},_uiSetMask:function(f){a.log("_uiSetMask");if(f){this.on("show",this._maskExtShow,this);this.on("hide",
this._maskExtHide,this)}else{this.detach("show",this._maskExtShow,this);this.detach("hide",this._maskExtHide,this)}},_maskExtShow:function(){if(!b){b=(new a.Node("<div class='ks-ext-mask'>")).prependTo(document.body);b.css({position:"absolute",left:0,top:0,width:"100%",height:a.DOM.docHeight()});e.ie==6&&b.append("<iframe style='width:100%;height:expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'>")}b.css({"z-index":this.get("zIndex")-1});c++;b.show()},_maskExtHide:function(){c--;
if(c<=0)c=0;c||b&&b.hide()},__destructor:function(){a.log("mask __destructor")}};a.Ext.Mask=d});
